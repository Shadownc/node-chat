<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		.btn{
			  height: 25px;
  				width: 25px;
  				position: relative;
  overflow: hidden;
  margin-right: 4px;
  display: inline-block;
  *display: inline;
  zoom: 1;
  cursor: pointer;
  background: url(./images/icon.jpg) -209px -242px no-repeat;}
		.btn input {position: absolute;top: 0; right: 0;margin: 0;border: solid transparent;opacity: 0;filter:alpha(opacity=0); cursor: pointer;}
		.img{display: none;}
	</style>
</head>
<body>
	<div class="btn">
        <input id="fileupload" type="file" name="mypic">
    </div>
    <img src="" alt="img" class="img" id="img">
</body>
<script type="text/javascript" src="./js/jquery-1.11.1.min.js"></script>
<script type="text/javascript">
document.getElementById('fileupload').addEventListener('change', function() {
    //检查是否有文件被选中
     if (this.files.length != 0) {
        //获取文件并用FileReader进行读取
         var file = this.files[0],
             reader = new FileReader();
         if (!reader) {
             console.log('system', '!your browser doesn\'t support fileReader', 'red');
             this.value = '';
             return;
         };
         reader.onload = function(e) {
            //读取成功，显示到页面并发送到服务器
             this.value = '';
             // that.socket.emit('img', e.target.result);
             $("#img").show().attr('src', e.target.result);
         };
         reader.readAsDataURL(file);
     };
 }, false);
</script>
</html>